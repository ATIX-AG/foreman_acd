<%#
kind: job_template
name: Run ACD Ansible Playbook - ACD Default
model: JobTemplate
job_category: Application Centric Deployment
description_format: "Run Ansible playbook to configure ACD application %{application_name}"
feature: run_acd_ansible_playbook
provider_type: ACD
template_inputs:
- name: application_name
  description: The name of the ACD application instance to run
  input_type: user
  required: true
  advanced: false
- name: playbook_id
  description: The id of the Ansible playbook to run
  input_type: user
  required: true
  advanced: false
- name: playbook_file
  description: The playbook file of to the Ansible playbook
  input_type: user
  required: true
  advanced: false
- name: inventory
  description: The Ansible inventory
  input_type: user
  required: true
  advanced: false
- name: extra_vars
  description: Set ansible-playbook extra vars
  input_type: user
  required: false
  advanced: true
- name: verbose
  description: Whether to run the ansible-playbook in verbose mode or not.
  input_type: user
  options: "0 - Normal\n1 - Verbose\n2 - More Verbose\n3 - Debug\n4 - Connection Debug"
  default: "0 - Normal"
  required: false
  advanced: true
- name: tags
  description: List of playbook tags to specify which tasks to execute.
  input_type: user
  required: false
  advanced: true
- name: skip_tags
  description: List of playbook tags to skip certain tasks.
  input_type: user
  required: false
  advanced: true
%>

application_name: <%= input('application_name') %>
playbook_id: <%= input('playbook_id') %>
playbook_file: <%= input('playbook_file') %>
extra_vars: <%= input('extra_vars') %>
verbose: <%= input('verbose') %>
tags: <%= input('tags') %>
skip_tags: <%= input('skip_tags') %>
inventory: |
<%=  indent(2) { input('inventory') } %>
